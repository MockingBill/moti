var mysql_utils = require('../../common/utils/mysql_utils')();

/**
 * 分页查询系统列表
 */
exports.pagingSystemList=function(params) {

    var sql='select * from common_system_info';
    var order = ' order by id ';
    var where = ' where 1 = 1 ';
    var countSql = 'select count(1) as total FROM  common_system_info';

    var whereParam = [];
    if(params.sys_name) {
        where += ' and sys_name like ? or sys_code like ?';
        whereParam.push('%' + params.sys_name + '%');
        whereParam.push('%' + params.sys_name + '%');
    }

    return mysql_utils.pagingQuery(sql + where + order, countSql + where, whereParam, params.page, params.limit, 0);
};

/**
 * 保存系统
 */
exports.saveSystem=function (mapEntity) {
    return mysql_utils.save("common_system_info",mapEntity);
};

/**
 * 通过id修改系统
 */
exports.updateSystemById=function(conditions,update){
    return mysql_utils.update("common_system_info",conditions,update);
};

